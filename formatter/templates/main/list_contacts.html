{% extends "main/base.html" %}

{% block main %}
<!-- Main content wrapper, with flex layout to push footer at the bottom -->
<div class="flex flex-col min-h-screen">

    <!-- Main content section -->
    <div class="container mx-auto mt-8 px-4 flex-grow">
        <!-- Breadcrumb Section -->
        <nav aria-label="breadcrumb" class="bg-gradient-to-r from-blue-100 to-indigo-100 py-4 px-6 rounded-md shadow-lg mb-6">
            <ol class="breadcrumb flex space-x-3 text-gray-600">
                <li class="breadcrumb-item">
                    <a href="/" class="text-blue-600 hover:text-blue-800 font-semibold transition">Accueil</a>
                </li>
                <li class="breadcrumb-item active text-gray-800 font-semibold" aria-current="page">Import</li>
            </ol>
        </nav>

        <!-- Content Section -->
        <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-blue-800">Liste des Contacts</h2>
        </div>

        <div class="flex justify-center space-x-4 mb-6">
            <a href="/download_csv/" class="btn btn-success px-6 py-3 rounded-lg text-white bg-green-600 hover:bg-green-700 transition ease-in-out duration-300 shadow-lg">Télécharger CSV</a>
            <a href="/download_vcard/" class="btn btn-info px-6 py-3 rounded-lg text-white bg-blue-600 hover:bg-blue-700 transition ease-in-out duration-300 shadow-lg">Importer dans le Téléphone</a>
            <!-- Bouton pour enregistrer sur Google Contacts -->
            <a href="{% url 'google_oauth' %}" class="btn btn-danger px-6 py-3 rounded-lg text-white bg-red-600 hover:bg-red-700 transition ease-in-out duration-300 shadow-lg">
                <i class="fab fa-google mr-2"></i>Enregistrer sur Google Contacts
            </a>
        </div>

        <!-- Table Section -->
        <div class="overflow-x-auto bg-white shadow-xl rounded-lg">
            <table class="min-w-full table-auto text-sm text-left text-gray-700">
                <thead class="bg-gray-200 text-gray-800">
                    <tr>
                        <th class="px-6 py-3 font-semibold text-sm">Prénom</th>
                        <th class="px-6 py-3 font-semibold text-sm">Nom</th>
                        <th class="px-6 py-3 font-semibold text-sm">Email</th>
                        <th class="px-6 py-3 font-semibold text-sm">Numéro d'origine</th>
                        <th class="px-6 py-3 font-semibold text-sm">Numéro formaté</th>
                    </tr>
                </thead>
                <tbody>
                    {% if contacts %}
                        {% for contact in contacts %}
                        <tr class="hover:bg-gray-50">
                            <td class="px-6 py-4">{{ contact.first_name }}</td>
                            <td class="px-6 py-4">{{ contact.last_name }}</td>
                            <td class="px-6 py-4">{{ contact.email }}</td>
                            <td class="px-6 py-4">{{ contact.phone_number }}</td>
                            <td class="px-6 py-4">{{ contact.formatted_number }}</td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="5" class="text-center py-4 text-gray-500">Aucun contact trouvé.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>

 

</div>
{% endblock %}
